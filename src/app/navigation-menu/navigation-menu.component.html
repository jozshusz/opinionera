<!-- bootstrap navigation menu -->
<nav class="navbar navbar-expand-sm navbar-dark bg-dark" id="main_navbar">
  <a class="navbar-brand" [routerLink]="[{ outlets: { primary: ['sections'], sidebar: ['topics'] } }]">Opinionera</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent"> <!-- collapsing when the device's width is too small -->
    <!--<div class="collapse navbar-collapse justify-content-between">-->
      <ul class="navbar-nav mr-auto">
        <li matRipple class="nav-item" [routerLinkActive]="['active']">
          <a class="nav-link" [routerLink]="[{ outlets: { primary: ['sections'], sidebar: ['topics'] } }]">Témák</a>
        </li>
        <li matRipple class="nav-item" [routerLinkActive]="['active']">
          <a class="nav-link" [routerLink]="[{ outlets: { primary: ['news'], sidebar: ['news'] } }]">Hírek</a>
        </li>
        <li matRipple class="nav-item" [routerLinkActive]="['active']">
          <a class="nav-link" [routerLink]="[{ outlets: { primary: ['rules'], sidebar: ['rules'] } }]">Szabályzat</a>
        </li>
      </ul>
      <form [formGroup]="searchForm" (ngSubmit)="onSubmit()" class="form-inline">
        <div class="form-group">
          <input id="searchInput" formControlName="searchInput" class="form-control mr-sm-2" 
          type="search" placeholder="Keresés témák között..." aria-label="Search">
        </div>
        <div class="form-group">
          <button class="btn btn-outline-info my-2 my-sm-0" type="submit">Keresés</button>
        </div>
      </form>
      <ul class="navbar-nav">
        <li matRipple class="nav-item" [routerLinkActive]="['active']" id="login_nav" *ngIf="!loggedIn">
          <a class="nav-link" [routerLink]="[{ outlets: { primary: ['login'], sidebar: ['login'] } }]">Bejelentkezés 
            <img src="../../assets/img/loginIcon.svg" style="width: 20px;" class="avatar" alt="icon">
          </a>
        </li>
        <li matRipple class="nav-item" [routerLinkActive]="['active']" id="profile_nav" *ngIf="loggedIn">
          <a class="nav-link" [routerLink]="[{ outlets: { primary: ['profile'], sidebar: ['topics'] } }]">
            <div matBadge="1" matBadgePosition="before" matBadgeColor="accent" matBadgeSize="small" [matBadgeHidden]="hideNotification">
              Profil
            </div>
          </a>
        </li>
        <li matRipple class="nav-item" [routerLinkActive]="['active']" id="logout_nav" *ngIf="loggedIn">
          <a class="nav-link" href="#" (click)="logout($event)" #logoutButton>Kijelentkezés</a>
        </li>
      </ul>
    <!--</div>-->
  </div>
</nav>